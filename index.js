
const protudo = [
    {
        id: 1,
        name: 'iPhone 4',
        price: 10,
        quantidade: 1,
    },
    {
        id: 2,
        name: 'Galaxy Samsung A13',
        price: 20,
        quantidade: 1,
    },
    {
        id: 3,
        name: 'Galaxy M54 5G',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 4,
        name: 'Redmi Note 12',
        price: 2099.00,
        quantidade: 1,
    },
    {
        id: 5,
        name: 'Asus ROG Phone 6D Ultimate',
        price: 3769.97,
        quantidade: 1,
    },
    {
        id: 6,
        name: 'Google Pixel 6',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 7,
        name: 'Samsung Galaxy S22',
        price: 1299.00,
        quantidade: 1,
    },
    {
        id: 8,
        name: 'OnePlus 9T',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 9,
        name: 'Xiaomi Mi 11',
        price: 599.00,
        quantidade: 1,
    },
    {
        id: 10,
        name: 'Huawei P50 Pro',
        price: 899.99,
        quantidade: 1,
    },
    {
        id: 11,
        name: 'Sony Xperia 5 III',
        price: 849.00,
        quantidade: 1,
    },
    {
        id: 12,
        name: 'LG Velvet 2 Pro',
        price: 749.99,
        quantidade: 1,
    },
    {
        id: 13,
        name: 'Motorola Edge 30',
        price: 479.00,
        quantidade: 1,
    },
    {
        id: 14,
        name: 'Nokia 9.3 PureView',
        price: 599.99,
        quantidade: 1,
    },
    {
        id: 15,
        name: 'Oppo Find X4 Pro',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 16,
        name: 'Vivo V23 Pro',
        price: 669.00,
        quantidade: 1,
    },
    {
        id: 17,
        name: 'Realme GT Master',
        price: 389.99,
        quantidade: 1,
    },
    {
        id: 18,
        name: 'BlackBerry Key3',
        price: 599.00,
        quantidade: 1,
    },
    {
        id: 19,
        name: 'HTC U21 5G',
        price: 799.00,
        quantidade: 1,
    },
    {
        id: 20,
        name: 'ZTE Axon 40 Pro',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 21,
        name: 'Google Pixel 7',
        price: 899.99,
        quantidade: 1,
    },
    {
        id: 22,
        name: 'Sony Xperia 6',
        price: 849.00,
        quantidade: 1,
    },
    {
        id: 23,
        name: 'Samsung Galaxy S23',
        price: 1399.00,
        quantidade: 1,
    },
    {
        id: 24,
        name: 'OnePlus 10',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 25,
        name: 'Xiaomi Mi 12',
        price: 699.00,
        quantidade: 1,
    },
    {
        id: 26,
        name: 'Asus Zenfone 9',
        price: 599.99,
        quantidade: 1,
    },
    {
        id: 27,
        name: 'Huawei P60 Pro',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 28,
        name: 'LG V40 ThinQ',
        price: 499.99,
        quantidade: 1,
    },
    {
        id: 29,
        name: 'Motorola Moto G8',
        price: 249.00,
        quantidade: 1,
    },
    {
        id: 30,
        name: 'Nokia 10',
        price: 599.99,
        quantidade: 1,
    },
    {
        id: 31,
        name: 'Oppo Reno 8',
        price: 799.00,
        quantidade: 1,
    },
    {
        id: 32,
        name: 'Vivo V24 Pro',
        price: 699.00,
        quantidade: 1,
    },
    {
        id: 33,
        name: 'Realme GT Pro 2',
        price: 459.99,
        quantidade: 1,
    },
    {
        id: 34,
        name: 'BlackBerry Key4',
        price: 629.00,
        quantidade: 1,
    },
    {
        id: 35,
        name: 'HTC U22 5G',
        price: 699.00,
        quantidade: 1,
    },
    {
        id: 36,
        name: 'ZTE Axon 50 Pro',
        price: 599.99,
        quantidade: 1,
    },


    {
        id: 37,
        name: 'Google Pixel 8',
        price: 999.99,
        quantidade: 1,
    },
    {
        id: 38,
        name: 'Sony Xperia 7',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 39,
        name: 'Samsung Galaxy S24',
        price: 1499.00,
        quantidade: 1,
    },
    {
        id: 40,
        name: 'OnePlus 11',
        price: 899.99,
        quantidade: 1,
    },
    {
        id: 41,
        name: 'Xiaomi Mi 13',
        price: 799.00,
        quantidade: 1,
    },
    {
        id: 42,
        name: 'Asus Zenfone 10',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 43,
        name: 'Huawei P70 Pro',
        price: 1199.00,
        quantidade: 1,
    },
    {
        id: 44,
        name: 'LG V50 ThinQ',
        price: 599.99,
        quantidade: 1,
    },
    {
        id: 45,
        name: 'Motorola Moto G10',
        price: 299.00,
        quantidade: 1,
    },
    {
        id: 46,
        name: 'Nokia 12',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 47,
        name: 'Oppo Reno 9',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 48,
        name: 'Vivo V25 Pro',
        price: 799.00,
        quantidade: 1,
    },
    {
        id: 49,
        name: 'Realme GT Pro 3',
        price: 499.99,
        quantidade: 1,
    },
    {
        id: 50,
        name: 'BlackBerry Key5',
        price: 699.00,
        quantidade: 1,
    },
    {
        id: 51,
        name: 'HTC U23 5G',
        price: 799.00,
        quantidade: 1,
    },
    {
        id: 52,
        name: 'ZTE Axon 60 Pro',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 53,
        name: 'Google Pixel 9',
        price: 1099.99,
        quantidade: 1,
    },
    {
        id: 54,
        name: 'Sony Xperia 8',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 55,
        name: 'Samsung Galaxy S25',
        price: 1699.00,
        quantidade: 1,
    },
    {
        id: 56,
        name: 'OnePlus 12',
        price: 999.99,
        quantidade: 1,
    },
    {
        id: 57,
        name: 'Xiaomi Mi 14',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 58,
        name: 'Asus Zenfone 11',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 59,
        name: 'Huawei P80 Pro',
        price: 1299.00,
        quantidade: 1,
    },
    {
        id: 60,
        name: 'LG V60 ThinQ',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 61,
        name: 'Motorola Moto G12',
        price: 349.00,
        quantidade: 1,
    },
    {
        id: 62,
        name: 'Nokia 14',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 63,
        name: 'Oppo Reno 10',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 64,
        name: 'Vivo V26 Pro',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 65,
        name: 'Realme GT Pro 4',
        price: 529.99,
        quantidade: 1,
    },
    {
        id: 66,
        name: 'BlackBerry Key6',
        price: 769.00,
        quantidade: 1,
    },
    {
        id: 67,
        name: 'HTC U24 5G',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 68,
        name: 'ZTE Axon 70 Pro',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 69,
        name: 'Google Pixel 10',
        price: 1199.99,
        quantidade: 1,
    },
    {
        id: 70,
        name: 'Sony Xperia 9',
        price: 1099.00,
        quantidade: 1,
    },
    {
        id: 71,
        name: 'Samsung Galaxy S26',
        price: 1799.00,
        quantidade: 1,
    },
    {
        id: 72,
        name: 'OnePlus 13',
        price: 1099.99,
        quantidade: 1,
    },
    {
        id: 73,
        name: 'Xiaomi Mi 15',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 74,
        name: 'Asus Zenfone 12',
        price: 899.99,
        quantidade: 1,
    },
    {
        id: 75,
        name: 'Huawei P90 Pro',
        price: 1399.00,
        quantidade: 1,
    },
    {
        id: 76,
        name: 'LG V70 ThinQ',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 77,
        name: 'Motorola Moto G14',
        price: 379.00,
        quantidade: 1,
    },
    {
        id: 78,
        name: 'Nokia 16',
        price: 899.99,
        quantidade: 1,
    },
    {
        id: 79,
        name: 'Oppo Reno 11',
        price: 1099.00,
        quantidade: 1,
    },
    {
        id: 80,
        name: 'Vivo V28 Pro',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 81,
        name: 'Realme GT Pro 5',
        price: 549.99,
        quantidade: 1,
    },

    {
        id: 82,
        name: 'Galaxy Samsung A13',
        price: 2044,
        quantidade: 1,
    },
    {
        id: 83,
        name: 'Galaxy M54 5G',
        price: 999.00,
        quantidade: 1,
    },
    {
        id: 84,
        name: 'Redmi Note 12',
        price: 2099.00,
        quantidade: 1,
    },
    {
        id: 85,
        name: 'Asus ROG Phone 6D Ultimate',
        price: 3769.97,
        quantidade: 1,
    },
    {
        id: 86,
        name: 'Google Pixel 6',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 87,
        name: 'Samsung Galaxy S22',
        price: 1299.00,
        quantidade: 1,
    },
    {
        id: 88,
        name: 'OnePlus 9T',
        price: 699.99,
        quantidade: 1,
    },
    {
        id: 89,
        name: 'Xiaomi Mi 11',
        price: 599.00,
        quantidade: 1,
    },
    {
        id: 90,
        name: 'Huawei P50 Pro',
        price: 899.99,
        quantidade: 1,
    },
    {
        id: 91,
        name: 'Sony Xperia 5 III',
        price: 849.00,
        quantidade: 1,
    },
    {
        id: 92,
        name: 'LG Velvet 2 Pro',
        price: 749.99,
        quantidade: 1,
    },
    {
        id: 93,
        name: 'Motorola Edge 30',
        price: 479.00,
        quantidade: 1,
    },
    {
        id: 94,
        name: 'Nokia 9.3 PureView',
        price: 599.99,
        quantidade: 1,
    },
    {
        id: 55,
        name: 'Oppo Find X4 Pro',
        price: 899.00,
        quantidade: 1,
    },
    {
        id: 96,
        name: 'iPhone 4',
        price: 10,
        quantidade: 1,
    },
    {
        id: 87,
        name: 'iPhone 4',
        price: 10,
        quantidade: 1,
    },
    {
        id: 98,
        name: 'Asus ROG Phone 6D Ultimate',
        price: 3769.97,
        quantidade: 1,
    },
    {
        id: 99,
        name: 'Google Pixel 6',
        price: 799.99,
        quantidade: 1,
    },
    {
        id: 100,
        name: 'Samsung Galaxy S22',
        price: 1299.00,
        quantidade: 1,
    },
    {
        id: 101,
        name: 'OnePlus 9T',
        price: 699.99,
        quantidade: 1,
    },
]
const list = document.querySelector('.protudos')
const sacolaVirtual = []
const mayTabelaTemp = `
    <div class="tabela">
        <span>Id</span>
        <span>Name</span>
        <span>Price</span>
        <span>Remover</span>
        <span>Comprar</span>
    </div>
`
function general() {
    listarProdutos();
    calcularTotal()
}
const insertItens = (item, index) => {
    return (
        list.innerHTML += `
        <div id="${item.id}" class='protudo'>                
            <span>${item.id}</span>
            <span>${item.name}</span>
            <span>$ ${item.price}</span>
            <span><button class='remove'>Remover</button></span>
            <span><span id="${item.id}" class="return">-</span>${item.quantidade}<span id="${item.id}" class="buy vida">+</span></span>
        </div>`
    )
}
const listarProdutos = () => {
    protudo.map((item, index) => {
        return (
            insertItens(item, index)
        )
    })
}
const buscarProdutoPorNome = () => {
    list.innerHTML = '';
    const value = document.querySelector('input').value
    const res = protudo.filter(item =>
        item.name.toLocaleLowerCase().includes(
            value.toLocaleLowerCase()
        )
    )
    if (res.length > 0) {
        list.innerHTML += mayTabelaTemp
        res.map((item, index) => {
            return (
                insertItens(item, index)
            )
        })
    }
    list.innerHTML += mayTabelaTemp
    list.innerHTML += `<h1>
        O valor ${value} não foi encontrado na loja.</h1>`

}
const calcularTotal = () => {

    let total = 0;
    sacolaVirtual.length > 0 ?
        sacolaVirtual.forEach(item => {
            let add = 0;
            if (item.quantidade > 1) {
                add = item.price * item.quantidade;
                add -= item.price;
            }
            total += Number(item.price + add)
            document.querySelector('.total').innerHTML =
                (`$ ${total}`)
        }) : document.querySelector('.total').innerHTML = "$ 0";
}
function adicionarAoCarrinho(id, e) {
    const items = protudo.find(item => item.id === id);
    let quant = sacolaVirtual.length > 0 && sacolaVirtual.find(item => item.id === items.id)
    if (e === "more") {
        if (quant) {
            quant.quantidade++;
            return calcularTotal();
        }
        sacolaVirtual.push(items);
    }
    calcularTotal()
    if (quant || quant.quantidade > 1) {
        if (quant.quantidade === 1) {
            const index = sacolaVirtual.indexOf(quant);
            sacolaVirtual.splice(index, 1)
        }
        quant.quantidade--;
        calcularTotal()
    }

}
document.addEventListener('click', (event) => {
    if (event.target.classList.contains('buy')) {
        const productId = event.srcElement.id;
        adicionarAoCarrinho(Number(productId), "more");
    }
    if (event.target.classList.contains('return')) {
        const productId = event.srcElement.id;
        adicionarAoCarrinho(Number(productId), "less");
    }
});
const checked = () => {
    document.addEventListener('click', (e) => {
        sacolaVirtual.forEach(item => {
            const chechk = document.getElementById(`${item.id}`)
            chechk.classList.add('checked')
            
        })
    })
}
checked()
general()